world_size: 1
gpu_ranks: [0]  # Use CPU by removing or modifying this
train_steps: 20000
save_model: example_run/model
save_checkpoint_steps: 1000
batch_size: 64
valid_steps: 10000
report_every: 100

!onmt_train -config example_run/run_config.yaml \
-seed 42 \
-batch_type tokens -batch_size 64 \
-accum_count 2 \
-optim adam -adam_beta2 0.998 \
-decay_method noam -warmup_steps 4000 \
-learning_rate 1 \
-label_smoothing 0.0 \
-layers 2 -rnn_size 256 -word_vec_size 256 \
-encoder_type transformer -decoder_type transformer \
-dropout 0.1 -position_encoding \
-share_embeddings \
-transformer_ff 1024 \
-tensorboard True -tensorboard_log_dir log_dir

!tensorboard --logdir log_dir
